{"version":3,"sources":["../../src/forms/formReducerSpec.js"],"names":["CONST","describe","FORM_NAME","prevState","beforeEach","Forms","Giftcard","errors","it","state","oldMember","type","expect","toHaveMember","PIN_VALUE","FORM_INITIAL_DATA","formName","values","toBeNonEmptyObject","toImplement","String","toBe","ERROR_VALUE","Array","FORM_DATA_REPLACE","FORM_DATA_MERGE","NUMBER_VALUE","toBeUndefined","toBeEmptyObject","FORM_INPUT_CHANGE","formInput","oldState","not","dummyProp","Object","FORM_VALIDATE","toBeArrayOfStrings","toBeEmptyString","FORM_SINGLE_VALIDATE","FORM_RESET","FORM_TRIGGER_VALIDATION","trigger","isTriggerValidation"],"mappings":"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","file":"formReducerSpec.js","sourcesContent":["import forms from './formReducer';\nimport * as CONST from './formConstants';\n\ndescribe('Form Reducer', () => {\n  const FORM_NAME = 'Giftcard';\n  let prevState;\n\n  beforeEach(() => {\n    prevState = {\n      Forms: {\n        Giftcard: {\n          errors: {\n            'gx-pin': ['I am an error message']\n          }\n        }\n      }\n    };\n  });\n\n  describe('WHEN action type does not exist', () => {\n    it('SHOULD return the last know state', () => {\n      const state = forms({\n        oldMember: 1\n      }, {\n        type: 'NON_EXISTENT'\n      });\n      expect(state).toHaveMember('oldMember');\n    });\n  });\n\n  describe('FORM_INITIAL_DATA', () => {\n    describe('WHEN initial values AND/OR errors are given', () => {\n      it('SHOULD return the given values as part of the state', () => {\n        const PIN_VALUE = '1234';\n        const state = forms({}, {\n          type: CONST.FORM_INITIAL_DATA,\n          formName: FORM_NAME,\n          values: {\n            'gx-pin': PIN_VALUE\n          }\n        });\n        expect(state[FORM_NAME].values).toBeNonEmptyObject();\n        expect(state[FORM_NAME].values).toImplement({\n          'gx-pin': String\n        });\n        expect(state[FORM_NAME].values['gx-pin']).toBe(PIN_VALUE);\n      });\n\n      it('SHOULD return the given errors as part of the state', () => {\n        const ERROR_VALUE = 'this is an error';\n        const state = forms({}, {\n          type: CONST.FORM_INITIAL_DATA,\n          formName: FORM_NAME,\n          errors: {\n            'gx-pin': [ERROR_VALUE]\n          }\n        });\n        expect(state[FORM_NAME].errors).toBeNonEmptyObject();\n        expect(state[FORM_NAME].errors).toImplement({\n          'gx-pin': Array\n        });\n        expect(state[FORM_NAME].errors['gx-pin'][0]).toBe(ERROR_VALUE);\n      });\n    });\n  });\n\n  describe('FORM_DATA_REPLACE', () => {\n    describe('WHEN values AND/OR errors are given', () => {\n      it('SHOULD return the given values as part of the state', () => {\n        const PIN_VALUE = '1234';\n        const state = forms({}, {\n          type: CONST.FORM_DATA_REPLACE,\n          formName: FORM_NAME,\n          values: {\n            'gx-pin': PIN_VALUE\n          }\n        });\n        expect(state[FORM_NAME].values).toBeNonEmptyObject();\n        expect(state[FORM_NAME].values).toImplement({\n          'gx-pin': String\n        });\n        expect(state[FORM_NAME].values['gx-pin']).toBe(PIN_VALUE);\n      });\n\n      it('SHOULD return the given errors as part of the state', () => {\n        const ERROR_VALUE = 'this is an error';\n        const state = forms({}, {\n          type: CONST.FORM_DATA_REPLACE,\n          formName: FORM_NAME,\n          errors: {\n            'gx-pin': [ERROR_VALUE]\n          }\n        });\n        expect(state[FORM_NAME].errors).toBeNonEmptyObject();\n        expect(state[FORM_NAME].errors).toImplement({\n          'gx-pin': Array\n        });\n        expect(state[FORM_NAME].errors['gx-pin'][0]).toBe(ERROR_VALUE);\n      });\n    });\n  });\n\n  describe('FORM_DATA_MERGE', () => {\n    describe('WHEN values AND/OR errors are given', () => {\n      it('SHOULD return the given values as part of the state', () => {\n        const PIN_VALUE = '1234';\n        const state = forms({}, {\n          type: CONST.FORM_DATA_MERGE,\n          formName: FORM_NAME,\n          values: {\n            'gx-pin': PIN_VALUE\n          }\n        });\n        expect(state[FORM_NAME].values).toBeNonEmptyObject();\n        expect(state[FORM_NAME].values).toImplement({\n          'gx-pin': String\n        });\n        expect(state[FORM_NAME].values['gx-pin']).toBe(PIN_VALUE);\n      });\n\n      it('SHOULD return the given errors as part of the state', () => {\n        const ERROR_VALUE = 'this is an error';\n        const state = forms({}, {\n          type: CONST.FORM_DATA_MERGE,\n          formName: FORM_NAME,\n          errors: {\n            'gx-pin': [ERROR_VALUE]\n          }\n        });\n        expect(state[FORM_NAME].errors).toBeNonEmptyObject();\n        expect(state[FORM_NAME].errors).toImplement({\n          'gx-pin': Array\n        });\n        expect(state[FORM_NAME].errors['gx-pin'][0]).toBe(ERROR_VALUE);\n      });\n\n      it('SHOULD return existing values + new values as part of the state', () => {\n        const PIN_VALUE = '1234';\n        const NUMBER_VALUE = 'A00001';\n        const state = forms({\n          [FORM_NAME]: {\n            values: {\n              'gx-number': 'A00001'\n            }\n          }\n        }, {\n          type: CONST.FORM_DATA_MERGE,\n          formName: FORM_NAME,\n          values: {\n            'gx-pin': PIN_VALUE\n          }\n        });\n        expect(state[FORM_NAME].values).toBeNonEmptyObject();\n        expect(state[FORM_NAME].values).toImplement({\n          'gx-pin': String,\n          'gx-number': String\n        });\n        expect(state[FORM_NAME].values['gx-pin']).toBe(PIN_VALUE);\n        expect(state[FORM_NAME].values['gx-number']).toBe(NUMBER_VALUE);\n      });\n\n      it('SHOULD return remove all errors WHEN no errors are given', () => {\n        const PIN_VALUE = '1234';\n        const state = forms({\n          [FORM_NAME]: {\n            errors: {\n              'gx-number': ['this is an error']\n            }\n          }\n        }, {\n          type: CONST.FORM_DATA_MERGE,\n          formName: FORM_NAME,\n          values: {\n            'gx-pin': PIN_VALUE\n          }\n        });\n        expect(state[FORM_NAME].errors).toBeUndefined();\n      });\n\n      it('SHOULD return remove all errors WHEN empty error object is given', () => {\n        const PIN_VALUE = '1234';\n        const state = forms({\n          [FORM_NAME]: {\n            errors: {\n              'gx-number': ['this is an error']\n            }\n          }\n        }, {\n          type: CONST.FORM_DATA_MERGE,\n          formName: FORM_NAME,\n          values: {\n            'gx-pin': PIN_VALUE\n          },\n          errors: {}\n        });\n        expect(state[FORM_NAME].errors).toBeEmptyObject();\n      });\n    });\n  });\n\n  describe('FORM_INPUT_CHANGE', () => {\n    describe('WHEN an input value is given', () => {\n      it('SHOULD return the given input field value as part of the state', () => {\n        const state = forms({}, {\n          type: CONST.FORM_INPUT_CHANGE,\n          formName: FORM_NAME,\n          formInput: {\n            'gx-pin': '1234'\n          }\n        });\n        expect(state[FORM_NAME].values).toBeNonEmptyObject();\n        expect(state[FORM_NAME].values).toImplement({\n          'gx-pin': String\n        });\n      });\n\n      it('SHOULD return the state of sibling inputs, IF there are any', () => {\n        const state = forms({\n          [FORM_NAME]: {\n            values: {\n              'gx-number': '007'\n            }\n          }\n        }, {\n          type: CONST.FORM_INPUT_CHANGE,\n          formName: FORM_NAME,\n          formInput: {\n            'gx-pin': '1234'\n          }\n        });\n        expect(state[FORM_NAME].values).toBeNonEmptyObject();\n        expect(state[FORM_NAME].values).toImplement({\n          'gx-pin': String,\n          'gx-number': String\n        });\n      });\n\n      it('SHOULD always return a new state', () => {\n        const oldState = {\n          [FORM_NAME]: {\n            values: {\n              'gx-pin': '1234'\n            }\n          }\n        };\n        const state = forms(oldState, {\n          type: CONST.FORM_INPUT_CHANGE,\n          formName: FORM_NAME,\n          formInput: {\n            'gx-pin': '1234'\n          }\n        });\n        expect(state).not.toBe(oldState);\n        expect(state[FORM_NAME].values['gx-pin']).toBe(oldState[FORM_NAME].values['gx-pin']);\n      });\n\n      it('SHOULD always return all other state members (like form errors)', () => {\n        const oldState = {\n          dummyProp: 1,\n          [FORM_NAME]: {\n            values: {\n              'gx-pin': '1234'\n            },\n            errors: {\n              'gx-pin': ['error message']\n            }\n          }\n        };\n        const state = forms(oldState, {\n          type: CONST.FORM_INPUT_CHANGE,\n          formName: FORM_NAME,\n          formInput: {\n            'gx-pin': '1234'\n          }\n        });\n\n        expect(state).toHaveMember('dummyProp');\n        expect(state[FORM_NAME]).toImplement({\n          errors: Object\n        });\n      });\n    });\n  });\n\n  describe('FORM_VALIDATE', () => {\n    describe('WHEN error messages are present', () => {\n      it('SHOULD return error message', () => {\n        const state = forms({}, {\n          type: CONST.FORM_VALIDATE,\n          formName: FORM_NAME,\n          errors: {\n            'gx-pin': ['error']\n          }\n        });\n        expect(state[FORM_NAME]).toBeNonEmptyObject();\n        expect(state[FORM_NAME]).toImplement({\n          errors: Object\n        });\n        expect(state.Giftcard.errors['gx-pin']).toBeArrayOfStrings();\n      });\n\n      it('SHOULD be able to return multiple error messages', () => {\n        const state = forms(prevState, {\n          type: CONST.FORM_VALIDATE,\n          formName: FORM_NAME,\n          errors: {\n            'gx-number': ['error'],\n            'gx-pin': ['error']\n          }\n        });\n        expect(state).toBeNonEmptyObject();\n        expect(state[FORM_NAME].errors).toHaveMember('gx-number');\n        expect(state[FORM_NAME].errors).toHaveMember('gx-pin');\n      });\n\n      it('SHOULD remove error messages WHEN no error is present', () => {\n        const state = forms(prevState, {\n          type: CONST.FORM_VALIDATE,\n          formName: FORM_NAME,\n          errors: {\n            'gx-number': ['error'],\n            'gx-pin': ''\n          }\n        });\n        expect(state).toBeNonEmptyObject();\n        expect(state[FORM_NAME].errors['gx-pin']).toBeEmptyString();\n      });\n    });\n  });\n\n  describe('FORM_SINGLE_VALIDATE', () => {\n    describe('WHEN error messages are present', () => {\n      it('SHOULD return error message', () => {\n        const state = forms({}, {\n          type: CONST.FORM_SINGLE_VALIDATE,\n          formName: FORM_NAME,\n          errors: {\n            'gx-pin': ['error']\n          }\n        });\n        expect(state[FORM_NAME]).toBeNonEmptyObject();\n        expect(state[FORM_NAME]).toImplement({\n          errors: Object\n        });\n        expect(state.Giftcard.errors['gx-pin']).toBeArrayOfStrings();\n      });\n\n      it('SHOULD be able to return multiple error messages', () => {\n        const state = forms(prevState, {\n          type: CONST.FORM_SINGLE_VALIDATE,\n          formName: FORM_NAME,\n          errors: {\n            'gx-number': ['error'],\n            'gx-pin': ['error']\n          }\n        });\n        expect(state).toBeNonEmptyObject();\n        expect(state[FORM_NAME].errors).toHaveMember('gx-number');\n        expect(state[FORM_NAME].errors).toHaveMember('gx-pin');\n      });\n\n      it('SHOULD remove error messages WHEN no error is present', () => {\n        const state = forms(prevState, {\n          type: CONST.FORM_SINGLE_VALIDATE,\n          formName: FORM_NAME,\n          errors: {\n            'gx-number': ['error'],\n            'gx-pin': ''\n          }\n        });\n        expect(state).toBeNonEmptyObject();\n        expect(state[FORM_NAME].errors['gx-pin']).toBeEmptyString();\n      });\n    });\n  });\n\n  describe('FORM_RESET', () => {\n    it('SHOULD reset the form state AND empty the input fields', () => {\n      const state = forms(prevState, {\n        type: CONST.FORM_RESET,\n        formName: FORM_NAME\n      });\n      expect(state).toBeNonEmptyObject();\n      expect(state[FORM_NAME].errors).toBeEmptyObject();\n      expect(state[FORM_NAME].values).toBeEmptyObject();\n    });\n  });\n\n  describe('FORM_TRIGGER_VALIDATION', () => {\n    it('SHOULD set the validation trigger to be true', () => {\n      const state = forms(prevState, {\n        type: CONST.FORM_TRIGGER_VALIDATION,\n        formName: FORM_NAME,\n        trigger: true\n      });\n      expect(state).toBeNonEmptyObject();\n      expect(state[FORM_NAME].isTriggerValidation).toBe(true);\n    });\n\n    it('SHOULD set the validation trigger to be false', () => {\n      const state = forms(prevState, {\n        type: CONST.FORM_TRIGGER_VALIDATION,\n        formName: FORM_NAME,\n        trigger: false\n      });\n      expect(state).toBeNonEmptyObject();\n      expect(state[FORM_NAME].isTriggerValidation).toBe(false);\n    });\n  });\n});\n\n"]}